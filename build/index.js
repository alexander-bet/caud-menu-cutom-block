(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,o=window.wp.components,r=window.wp.blockEditor,a=window.wp.domReady;var n=e.n(a);const l=window.wp.i18n,s=window.wp.blocks,c=(window.wp.blockLibrary,window.wp.formatLibrary,window.ReactJSXRuntime);(0,s.registerBlockType)("core/paragraph",{title:(0,l.__)("Paragraph"),icon:"editor-paragraph",category:"common",attributes:{content:{type:"string",source:"html",selector:"p"}},edit:({attributes:e,setAttributes:t})=>(0,c.jsx)("p",{children:(0,c.jsx)("textarea",{value:e.content,onChange:e=>t({content:e.target.value})})}),save:({attributes:e})=>(0,c.jsx)("p",{className:"wp-block-paragraph",children:e.content})}),(0,s.registerBlockType)("core/columns",{title:(0,l.__)("Columns"),icon:"columns",category:"layout",attributes:{columns:{type:"number",default:2}},edit:({attributes:e,setAttributes:t})=>(0,c.jsx)("div",{className:"wp-block-columns",children:[...Array(e.columns)].map(((e,o)=>(0,c.jsx)("div",{className:"wp-block-column",children:(0,c.jsx)("textarea",{placeholder:`Column ${o+1}`,onChange:e=>t({[`column${o+1}`]:e.target.value})})},o)))}),save:({attributes:e})=>(0,c.jsx)("div",{className:"wp-block-columns",children:[...Array(e.columns)].map(((t,o)=>(0,c.jsx)("div",{className:"wp-block-column",children:e[`column${o+1}`]},o)))})}),(0,s.registerBlockType)("core/image",{title:(0,l.__)("Image"),icon:"format-image",category:"media",attributes:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""}},edit:({attributes:e,setAttributes:t})=>(0,c.jsxs)("div",{className:"wp-block-image",children:[(0,c.jsx)("input",{type:"text",placeholder:"Image URL",value:e.url,onChange:e=>t({url:e.target.value})}),(0,c.jsx)("input",{type:"text",placeholder:"Alt text",value:e.alt,onChange:e=>t({alt:e.target.value})})]}),save:({attributes:e})=>(0,c.jsx)("img",{src:e.url,alt:e.alt,className:"wp-block-image"})});const i='\x3c!-- wp:paragraph --\x3e<p class="wp-block-paragraph">Example paragraph content</p>\x3c!-- /wp:paragraph --\x3e',p=({content:e=i,onChange:a})=>{let n=[];try{if(console.log("Parsing content:",e),n=wp.blocks.parse(e),console.log("Parsed blocks:",n),!Array.isArray(n))throw new Error("Parsed content is not an array")}catch(e){console.error("Error parsing content:",e),n=[]}const[s,p]=(0,t.useState)(n);return(0,c.jsx)(o.SlotFillProvider,{children:(0,c.jsxs)(r.BlockEditorProvider,{value:s,onInput:p,onChange:e=>{p(e),a(wp.blocks.serialize(e))},children:[(0,c.jsxs)(r.BlockTools,{children:[(0,c.jsxs)(o.ToolbarGroup,{children:[(0,c.jsx)(o.ToolbarButton,{icon:"edit",label:(0,l.__)("Edit")}),(0,c.jsx)(o.ToolbarButton,{icon:"trash",label:(0,l.__)("Delete")})]}),(0,c.jsx)(r.Inserter,{rootClientId:null,isAppender:!0,renderToggle:({onToggle:e,isOpen:t})=>(0,c.jsx)(o.ToolbarButton,{icon:"plus",label:(0,l.__)("Add block"),onClick:e,isPressed:t})}),(0,c.jsx)(r.WritingFlow,{children:(0,c.jsx)(r.ObserveTyping,{children:(0,c.jsx)(r.BlockList,{})})})]}),(0,c.jsx)(o.Popover.Slot,{})]})})};n()((()=>{document.querySelectorAll(".edit-menu-item-custom").forEach((e=>{const t=e.id,o=e.value||i;console.log("Textarea content:",o);const r=`editor-container-${t.split("-").pop()}`,a=document.getElementById(r);a?(console.log("Rendering editor in container:",r),wp.element.render((0,c.jsx)(p,{content:o,onChange:t=>{e.value=t}}),a)):console.error("Container not found for ID:",r)}))}))})();